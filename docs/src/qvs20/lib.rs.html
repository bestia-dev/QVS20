<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Source to the Rust file `src/lib.rs`."><meta name="keywords" content="rust, rustlang, rust-lang"><title>lib.rs.html -- source</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc source"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../qvs20/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><pre class="line-numbers"><span id="1">  1</span>
<span id="2">  2</span>
<span id="3">  3</span>
<span id="4">  4</span>
<span id="5">  5</span>
<span id="6">  6</span>
<span id="7">  7</span>
<span id="8">  8</span>
<span id="9">  9</span>
<span id="10"> 10</span>
<span id="11"> 11</span>
<span id="12"> 12</span>
<span id="13"> 13</span>
<span id="14"> 14</span>
<span id="15"> 15</span>
<span id="16"> 16</span>
<span id="17"> 17</span>
<span id="18"> 18</span>
<span id="19"> 19</span>
<span id="20"> 20</span>
<span id="21"> 21</span>
<span id="22"> 22</span>
<span id="23"> 23</span>
<span id="24"> 24</span>
<span id="25"> 25</span>
<span id="26"> 26</span>
<span id="27"> 27</span>
<span id="28"> 28</span>
<span id="29"> 29</span>
<span id="30"> 30</span>
<span id="31"> 31</span>
<span id="32"> 32</span>
<span id="33"> 33</span>
<span id="34"> 34</span>
<span id="35"> 35</span>
<span id="36"> 36</span>
<span id="37"> 37</span>
<span id="38"> 38</span>
<span id="39"> 39</span>
<span id="40"> 40</span>
<span id="41"> 41</span>
<span id="42"> 42</span>
<span id="43"> 43</span>
<span id="44"> 44</span>
<span id="45"> 45</span>
<span id="46"> 46</span>
<span id="47"> 47</span>
<span id="48"> 48</span>
<span id="49"> 49</span>
<span id="50"> 50</span>
<span id="51"> 51</span>
<span id="52"> 52</span>
<span id="53"> 53</span>
<span id="54"> 54</span>
<span id="55"> 55</span>
<span id="56"> 56</span>
<span id="57"> 57</span>
<span id="58"> 58</span>
<span id="59"> 59</span>
<span id="60"> 60</span>
<span id="61"> 61</span>
<span id="62"> 62</span>
<span id="63"> 63</span>
<span id="64"> 64</span>
<span id="65"> 65</span>
<span id="66"> 66</span>
<span id="67"> 67</span>
<span id="68"> 68</span>
<span id="69"> 69</span>
<span id="70"> 70</span>
<span id="71"> 71</span>
<span id="72"> 72</span>
<span id="73"> 73</span>
<span id="74"> 74</span>
<span id="75"> 75</span>
<span id="76"> 76</span>
<span id="77"> 77</span>
<span id="78"> 78</span>
<span id="79"> 79</span>
<span id="80"> 80</span>
<span id="81"> 81</span>
<span id="82"> 82</span>
<span id="83"> 83</span>
<span id="84"> 84</span>
<span id="85"> 85</span>
<span id="86"> 86</span>
<span id="87"> 87</span>
<span id="88"> 88</span>
<span id="89"> 89</span>
<span id="90"> 90</span>
<span id="91"> 91</span>
<span id="92"> 92</span>
<span id="93"> 93</span>
<span id="94"> 94</span>
<span id="95"> 95</span>
<span id="96"> 96</span>
<span id="97"> 97</span>
<span id="98"> 98</span>
<span id="99"> 99</span>
<span id="100">100</span>
<span id="101">101</span>
<span id="102">102</span>
<span id="103">103</span>
<span id="104">104</span>
<span id="105">105</span>
<span id="106">106</span>
<span id="107">107</span>
<span id="108">108</span>
<span id="109">109</span>
<span id="110">110</span>
<span id="111">111</span>
<span id="112">112</span>
<span id="113">113</span>
<span id="114">114</span>
<span id="115">115</span>
<span id="116">116</span>
<span id="117">117</span>
<span id="118">118</span>
<span id="119">119</span>
<span id="120">120</span>
<span id="121">121</span>
<span id="122">122</span>
<span id="123">123</span>
<span id="124">124</span>
<span id="125">125</span>
<span id="126">126</span>
<span id="127">127</span>
<span id="128">128</span>
<span id="129">129</span>
<span id="130">130</span>
<span id="131">131</span>
<span id="132">132</span>
<span id="133">133</span>
<span id="134">134</span>
<span id="135">135</span>
<span id="136">136</span>
<span id="137">137</span>
<span id="138">138</span>
<span id="139">139</span>
<span id="140">140</span>
<span id="141">141</span>
<span id="142">142</span>
<span id="143">143</span>
<span id="144">144</span>
<span id="145">145</span>
<span id="146">146</span>
<span id="147">147</span>
<span id="148">148</span>
<span id="149">149</span>
<span id="150">150</span>
<span id="151">151</span>
<span id="152">152</span>
<span id="153">153</span>
<span id="154">154</span>
<span id="155">155</span>
<span id="156">156</span>
<span id="157">157</span>
<span id="158">158</span>
<span id="159">159</span>
<span id="160">160</span>
<span id="161">161</span>
<span id="162">162</span>
<span id="163">163</span>
<span id="164">164</span>
<span id="165">165</span>
<span id="166">166</span>
<span id="167">167</span>
<span id="168">168</span>
<span id="169">169</span>
<span id="170">170</span>
<span id="171">171</span>
<span id="172">172</span>
<span id="173">173</span>
<span id="174">174</span>
<span id="175">175</span>
<span id="176">176</span>
<span id="177">177</span>
<span id="178">178</span>
<span id="179">179</span>
<span id="180">180</span>
<span id="181">181</span>
<span id="182">182</span>
<span id="183">183</span>
<span id="184">184</span>
<span id="185">185</span>
<span id="186">186</span>
<span id="187">187</span>
<span id="188">188</span>
<span id="189">189</span>
<span id="190">190</span>
<span id="191">191</span>
<span id="192">192</span>
<span id="193">193</span>
<span id="194">194</span>
<span id="195">195</span>
<span id="196">196</span>
<span id="197">197</span>
<span id="198">198</span>
<span id="199">199</span>
<span id="200">200</span>
<span id="201">201</span>
<span id="202">202</span>
<span id="203">203</span>
<span id="204">204</span>
<span id="205">205</span>
<span id="206">206</span>
<span id="207">207</span>
<span id="208">208</span>
<span id="209">209</span>
<span id="210">210</span>
<span id="211">211</span>
<span id="212">212</span>
<span id="213">213</span>
<span id="214">214</span>
<span id="215">215</span>
<span id="216">216</span>
<span id="217">217</span>
<span id="218">218</span>
<span id="219">219</span>
<span id="220">220</span>
<span id="221">221</span>
<span id="222">222</span>
<span id="223">223</span>
<span id="224">224</span>
<span id="225">225</span>
<span id="226">226</span>
<span id="227">227</span>
<span id="228">228</span>
<span id="229">229</span>
<span id="230">230</span>
<span id="231">231</span>
<span id="232">232</span>
<span id="233">233</span>
<span id="234">234</span>
<span id="235">235</span>
<span id="236">236</span>
<span id="237">237</span>
<span id="238">238</span>
<span id="239">239</span>
<span id="240">240</span>
<span id="241">241</span>
<span id="242">242</span>
<span id="243">243</span>
<span id="244">244</span>
<span id="245">245</span>
<span id="246">246</span>
<span id="247">247</span>
<span id="248">248</span>
<span id="249">249</span>
<span id="250">250</span>
<span id="251">251</span>
<span id="252">252</span>
<span id="253">253</span>
<span id="254">254</span>
<span id="255">255</span>
<span id="256">256</span>
<span id="257">257</span>
<span id="258">258</span>
<span id="259">259</span>
<span id="260">260</span>
<span id="261">261</span>
<span id="262">262</span>
<span id="263">263</span>
<span id="264">264</span>
<span id="265">265</span>
<span id="266">266</span>
<span id="267">267</span>
<span id="268">268</span>
<span id="269">269</span>
<span id="270">270</span>
<span id="271">271</span>
<span id="272">272</span>
<span id="273">273</span>
<span id="274">274</span>
<span id="275">275</span>
<span id="276">276</span>
<span id="277">277</span>
<span id="278">278</span>
<span id="279">279</span>
<span id="280">280</span>
<span id="281">281</span>
<span id="282">282</span>
<span id="283">283</span>
<span id="284">284</span>
<span id="285">285</span>
<span id="286">286</span>
<span id="287">287</span>
<span id="288">288</span>
<span id="289">289</span>
<span id="290">290</span>
<span id="291">291</span>
<span id="292">292</span>
<span id="293">293</span>
<span id="294">294</span>
<span id="295">295</span>
<span id="296">296</span>
<span id="297">297</span>
<span id="298">298</span>
<span id="299">299</span>
<span id="300">300</span>
<span id="301">301</span>
<span id="302">302</span>
<span id="303">303</span>
<span id="304">304</span>
<span id="305">305</span>
<span id="306">306</span>
<span id="307">307</span>
<span id="308">308</span>
<span id="309">309</span>
<span id="310">310</span>
<span id="311">311</span>
<span id="312">312</span>
<span id="313">313</span>
<span id="314">314</span>
<span id="315">315</span>
<span id="316">316</span>
<span id="317">317</span>
<span id="318">318</span>
<span id="319">319</span>
<span id="320">320</span>
<span id="321">321</span>
<span id="322">322</span>
<span id="323">323</span>
<span id="324">324</span>
<span id="325">325</span>
<span id="326">326</span>
<span id="327">327</span>
<span id="328">328</span>
<span id="329">329</span>
<span id="330">330</span>
<span id="331">331</span>
<span id="332">332</span>
<span id="333">333</span>
<span id="334">334</span>
<span id="335">335</span>
<span id="336">336</span>
<span id="337">337</span>
<span id="338">338</span>
<span id="339">339</span>
<span id="340">340</span>
<span id="341">341</span>
<span id="342">342</span>
<span id="343">343</span>
<span id="344">344</span>
<span id="345">345</span>
<span id="346">346</span>
<span id="347">347</span>
<span id="348">348</span>
<span id="349">349</span>
<span id="350">350</span>
<span id="351">351</span>
<span id="352">352</span>
<span id="353">353</span>
<span id="354">354</span>
<span id="355">355</span>
<span id="356">356</span>
<span id="357">357</span>
<span id="358">358</span>
<span id="359">359</span>
<span id="360">360</span>
<span id="361">361</span>
<span id="362">362</span>
<span id="363">363</span>
<span id="364">364</span>
<span id="365">365</span>
<span id="366">366</span>
<span id="367">367</span>
<span id="368">368</span>
<span id="369">369</span>
<span id="370">370</span>
<span id="371">371</span>
<span id="372">372</span>
<span id="373">373</span>
<span id="374">374</span>
<span id="375">375</span>
<span id="376">376</span>
<span id="377">377</span>
<span id="378">378</span>
<span id="379">379</span>
<span id="380">380</span>
<span id="381">381</span>
<span id="382">382</span>
<span id="383">383</span>
<span id="384">384</span>
<span id="385">385</span>
<span id="386">386</span>
<span id="387">387</span>
<span id="388">388</span>
<span id="389">389</span>
<span id="390">390</span>
<span id="391">391</span>
<span id="392">392</span>
<span id="393">393</span>
<span id="394">394</span>
<span id="395">395</span>
<span id="396">396</span>
<span id="397">397</span>
<span id="398">398</span>
<span id="399">399</span>
<span id="400">400</span>
<span id="401">401</span>
<span id="402">402</span>
<span id="403">403</span>
<span id="404">404</span>
<span id="405">405</span>
<span id="406">406</span>
<span id="407">407</span>
<span id="408">408</span>
<span id="409">409</span>
<span id="410">410</span>
<span id="411">411</span>
<span id="412">412</span>
<span id="413">413</span>
<span id="414">414</span>
<span id="415">415</span>
<span id="416">416</span>
<span id="417">417</span>
<span id="418">418</span>
<span id="419">419</span>
<span id="420">420</span>
<span id="421">421</span>
<span id="422">422</span>
<span id="423">423</span>
<span id="424">424</span>
<span id="425">425</span>
<span id="426">426</span>
<span id="427">427</span>
<span id="428">428</span>
<span id="429">429</span>
<span id="430">430</span>
<span id="431">431</span>
<span id="432">432</span>
<span id="433">433</span>
<span id="434">434</span>
<span id="435">435</span>
<span id="436">436</span>
<span id="437">437</span>
<span id="438">438</span>
<span id="439">439</span>
<span id="440">440</span>
<span id="441">441</span>
<span id="442">442</span>
<span id="443">443</span>
<span id="444">444</span>
<span id="445">445</span>
<span id="446">446</span>
<span id="447">447</span>
<span id="448">448</span>
<span id="449">449</span>
<span id="450">450</span>
<span id="451">451</span>
<span id="452">452</span>
<span id="453">453</span>
<span id="454">454</span>
<span id="455">455</span>
<span id="456">456</span>
<span id="457">457</span>
<span id="458">458</span>
<span id="459">459</span>
<span id="460">460</span>
<span id="461">461</span>
<span id="462">462</span>
<span id="463">463</span>
<span id="464">464</span>
<span id="465">465</span>
<span id="466">466</span>
<span id="467">467</span>
<span id="468">468</span>
<span id="469">469</span>
<span id="470">470</span>
<span id="471">471</span>
<span id="472">472</span>
<span id="473">473</span>
<span id="474">474</span>
<span id="475">475</span>
<span id="476">476</span>
<span id="477">477</span>
<span id="478">478</span>
<span id="479">479</span>
<span id="480">480</span>
<span id="481">481</span>
<span id="482">482</span>
<span id="483">483</span>
<span id="484">484</span>
<span id="485">485</span>
<span id="486">486</span>
<span id="487">487</span>
<span id="488">488</span>
<span id="489">489</span>
<span id="490">490</span>
<span id="491">491</span>
<span id="492">492</span>
<span id="493">493</span>
<span id="494">494</span>
<span id="495">495</span>
<span id="496">496</span>
<span id="497">497</span>
<span id="498">498</span>
<span id="499">499</span>
<span id="500">500</span>
<span id="501">501</span>
<span id="502">502</span>
<span id="503">503</span>
<span id="504">504</span>
<span id="505">505</span>
<span id="506">506</span>
<span id="507">507</span>
<span id="508">508</span>
<span id="509">509</span>
<span id="510">510</span>
<span id="511">511</span>
<span id="512">512</span>
<span id="513">513</span>
<span id="514">514</span>
<span id="515">515</span>
<span id="516">516</span>
<span id="517">517</span>
<span id="518">518</span>
<span id="519">519</span>
<span id="520">520</span>
<span id="521">521</span>
<span id="522">522</span>
<span id="523">523</span>
<span id="524">524</span>
<span id="525">525</span>
<span id="526">526</span>
<span id="527">527</span>
<span id="528">528</span>
<span id="529">529</span>
<span id="530">530</span>
</pre><div class="example-wrap"><pre class="rust ">
<span class="comment">// region: lmake_md_to_doc_comments include README.md A //!</span>
<span class="doccomment">//! # QVS20 - Modern replacement for csv for the year 2020  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! sQuare brackets Separated Values 2020  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ***version: 0.0.8  date: 2020-07-16 authors: bestia.dev***  </span>
<span class="doccomment">//! **Modern replacement for csv for the year 2020**</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! [![Lines in Rust code](https://img.shields.io/badge/Lines_in_Rust-1574-green.svg)](https://github.com/bestia-dev/QVS20/)</span>
<span class="doccomment">//! [![Lines in Doc comments](https://img.shields.io/badge/Lines_in_Doc_comments-612-blue.svg)](https://github.com/bestia-dev/QVS20/)</span>
<span class="doccomment">//! [![Lines in Comments](https://img.shields.io/badge/Lines_in_comments-211-purple.svg)](https://github.com/bestia-dev/QVS20/)</span>
<span class="doccomment">//! [![Lines in examples](https://img.shields.io/badge/Lines_in_examples-954-yellow.svg)](https://github.com/bestia-dev/QVS20/)</span>
<span class="doccomment">//! [![Lines in tests](https://img.shields.io/badge/Lines_in_tests-812-orange.svg)](https://github.com/bestia-dev/QVS20/)</span>
<span class="doccomment">//!</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! My proposed format for import/export of 2 dimensional database tables.  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## The name QVS20  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! `QVS` stands for &quot;sQuare brackets Separated Values&quot;.  </span>
<span class="doccomment">//! The number `20` is the year of the first version: 2020.  </span>
<span class="doccomment">//! Read phonetically as:  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! - International Phonetic Alphabet (IPA) [kʊs twɛnti]</span>
<span class="doccomment">//! - Americanist Phonetic Notation [koos twen-tee]</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Read pronunciation like `couscous` the North African dish or `Kuss` the German or Dutch words for Kiss.  </span>
<span class="doccomment">//! &lt;https://en.wiktionary.org/wiki/kus&gt;  </span>
<span class="doccomment">//! A minor annoyance is that in Crimean Tatar kuş means bird or penis and in Kurdish kuş means fart.  </span>
<span class="doccomment">//! But stay positive I say :-)  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Check the development of the library source code</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! Clone and try the examples.  </span>
<span class="doccomment">//! The description is in the code and in &lt;DEVELOPMENTS.md&gt;.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Text format for tabular data  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Most databases are used to store information in tables - the tabular form of 2 dimensional data structure.  </span>
<span class="doccomment">//! The structure is very simple to understand and visualize.  </span>
<span class="doccomment">//! This data quite often need to be exported, transferred and imported between very different systems.  </span>
<span class="doccomment">//! Binary transfer is hard to implement in heterogeneous systems.  </span>
<span class="doccomment">//! Text transfer is slower and larger, but is universal for all computer systems and even human readable. The internet has good experience of that.  </span>
<span class="doccomment">//! The text format is probably very good to compress/zip if needed.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Machines first - Humans second</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! `QVS20` is primarily intended to be write and read by computer code.  </span>
<span class="doccomment">//! It is still possible to read and edit it manually.  </span>
<span class="doccomment">//! All in all it is just a simple text.  </span>
<span class="doccomment">//! But that is not very comfortable and it is absolutely not the primary goal.  </span>
<span class="doccomment">//! So this is not a good format for config files.  </span>
<span class="doccomment">//! Just for your info, no comments are allowed in the standard.  </span>
<span class="doccomment">//! Only data.  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Database table  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! A database table is a structure that organizes data into rows and columns - forming a grid.  </span>
<span class="doccomment">//! The rows run horizontally and represent each record.  </span>
<span class="doccomment">//! The columns run vertically and represent a specific field.  </span>
<span class="doccomment">//! A table has a specified number of columns.  </span>
<span class="doccomment">//! Every column has a description what kind of data it represents.  </span>
<span class="doccomment">//! The `QVS20` format can be used also for hierarchical data structures, but it does not shine there.  </span>
<span class="doccomment">//! We already have `xml` and `json` for that type of data.  </span>
<span class="doccomment">//! Today we need a format for (mostly) tabular data.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## A modern replacement for csv  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! `csv` is the most used format to export/import tables.  </span>
<span class="doccomment">//! But it is not even a official standard. Even the name is deceiving: CSV comma separated values. Sometimes the delimiter is not &quot;comma&quot;, but tab, semicolon,...  </span>
<span class="doccomment">//! Every programmer has a different implementation.  </span>
<span class="doccomment">//! There are a million small problems that makes its use problematic for different systems.  </span>
<span class="doccomment">//! Though it works fine for import/export in the same system where the programmers made the same decisions.  </span>
<span class="doccomment">//! Csv has the smallest footprint for a text format, but :  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! - what is the field delimiter: comma, semi-colon, colon, tab, ?  </span>
<span class="doccomment">//! - what is the row delimiter: newline, CRLF, CR, LF?  </span>
<span class="doccomment">//! - how to escape the delimiters inside the content?  </span>
<span class="doccomment">//! - if we use the quotes as delimiters, how to escape the quotes?  </span>
<span class="doccomment">//! - do we use the quotes everywhere or only on selected fields?  </span>
<span class="doccomment">//! - what encoding is used for the file?  </span>
<span class="doccomment">//! - how the decimal number are represented?  </span>
<span class="doccomment">//! - how the date/time is represented?  </span>
<span class="doccomment">//! - there is no standard for field definition.  </span>
<span class="doccomment">//! - The data could come without column names.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! example of csv:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ```txt</span>
<span class="doccomment">//! Date Received,Product Name,Sub Product,Issue,Sub Issue,Consumer Complaint Narrative,Company Public Response,Company,State Name,Zip Code,Tags,Consumer Consent Provided,Submitted via,Date Sent to Company,Company Response to Consumer,Timely Response,Consumer Disputed,Complaint ID</span>
<span class="doccomment">//! 2013-07-29,Consumer Loan,Vehicle loan,Managing the loan or lease,,,,Wells Fargo &amp; Company,VA,24540,,N/A,Phone,2013-07-30,Closed with explanation,Yes,No,468882</span>
<span class="doccomment">//! 2013-07-29,Bank \ account or service,Checking account,Using a debit or ATM card,,,,Wells Fargo &amp; Company,CA,95992,Older American,N/A,Web,2013-07-31,Closed with explanation,Yes,No,468889</span>
<span class="doccomment">//!   ```</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! `xml` and `json` are great inter-system formats for hierarchically structured data, but not for tabular data.  </span>
<span class="doccomment">//! They are terribly verbose for tables, because they repeat all the names for every row of data.  </span>
<span class="doccomment">//! Imagine a table with a million rows. Most of this data is field names. Horror!  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! example of json:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ```json</span>
<span class="doccomment">//! [{</span>
<span class="doccomment">//!         &quot;country&quot;: &quot;Afghanistan&quot;,</span>
<span class="doccomment">//!         &quot;population&quot;: &quot;37172386&quot;</span>
<span class="doccomment">//!     },</span>
<span class="doccomment">//!     {</span>
<span class="doccomment">//!         &quot;country&quot;: &quot;Albania&quot;,</span>
<span class="doccomment">//!         &quot;population&quot;: &quot;2866376&quot;</span>
<span class="doccomment">//!     },</span>
<span class="doccomment">//!     {...</span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! example of xml with elements:</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ```xml</span>
<span class="doccomment">//!     &lt;row&gt;</span>
<span class="doccomment">//!         &lt;country&gt;Afghanistan&lt;/country&gt;</span>
<span class="doccomment">//!         &lt;population&gt;37172386&lt;/population&gt;</span>
<span class="doccomment">//!     &lt;/row&gt;</span>
<span class="doccomment">//!     &lt;row&gt;</span>
<span class="doccomment">//!     &lt;country&gt;Albania&lt;/country&gt;</span>
<span class="doccomment">//!         &lt;population&gt;2866376&lt;/population&gt;</span>
<span class="doccomment">//!     &lt;/row&gt;</span>
<span class="doccomment">//!     &lt;row&gt;...</span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! example of xml with attributes:</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ```xml with attributes</span>
<span class="doccomment">//!     &lt;row country=&quot;Afghanistan&quot; population=&quot;37172386&quot; /&gt;</span>
<span class="doccomment">//!     &lt;row country=&quot;Albania&quot; population=&quot;2866376&quot; /&gt;</span>
<span class="doccomment">//!     &lt;row ...</span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! There is probably a lot more formats out there, but I cannot know them all.  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Why sQuare brackets  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! I think parsing is much easier and error resistent if the delimiters are different for start and for end.  </span>
<span class="doccomment">//! It is the simplest rule that all the delimiters must always exist. No exceptions.  </span>
<span class="doccomment">//! If we compare to `csv` it adds one additional delimiter, but that solves a lot of problems.  </span>
<span class="doccomment">//! Why not quotes or apostrophes : they are the same delimiter for start and end.  </span>
<span class="doccomment">//! Why not &lt;&gt; like xml? : If we have a lot of xml data, then all of these delimiters must be escaped.  </span>
<span class="doccomment">//! Why not {}? : if we have a lot of json or code, there is a lot of characters to be escaped.  </span>
<span class="doccomment">//! `sQuare brackets` [] are used in many places, but less then other symbols.  </span>
<span class="doccomment">//! They are ascii7, just one byte in UTF8 and easy/fast to parse.  </span>
<span class="doccomment">//! example of QVS20:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ```QVS20</span>
<span class="doccomment">//! [City][Country][UN2018][CityPopulation][Area][MetropolitanPopulation]  </span>
<span class="doccomment">//! [Tokyo][Japan][37400068][13515271][2191][37274000]  </span>
<span class="doccomment">//! [Delhi][India][28514000][16753235][1484][29000000]  </span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Only utf-8 Encoding</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! There is a few different text encodings today. All come with good and bad properties.  </span>
<span class="doccomment">//! In 2020 the choice to simplify most of the cases is `utf-8`.  </span>
<span class="doccomment">//! It is much easier to maintain the source code for `QVS20` import/export for only that one encoding.  </span>
<span class="doccomment">//! The utf-8 encoding is very efficient most of the times.  </span>
<span class="doccomment">//! The Rust programming language uses utf-8 internally for the String type.  </span>
<span class="doccomment">//! Utf-8 is quite complex.  </span>
<span class="doccomment">//! There can be characters with 1, 2, 3, 4, 5, 6 bytes.  </span>
<span class="doccomment">//! But the mastery of the encoding is that it `guarantees` that the same byte (number) for an ascii7 characters can never never be found anywhere else in any other character. It does not matter how much complicated is the 6 byte character. No one of that bytes can have a number less than 127.  </span>
<span class="doccomment">//! It is a guarantee! Genius !  </span>
<span class="doccomment">//! That means that we can approach an utf-8 file as a vector of bytes. Super simple, fast and easy. We can just ignore all the peculiarities of millions of unicode characters. Because we care only about our delimiters.  </span>
<span class="doccomment">//! And they are all 100% ascii7.  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Visualization  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! This format is mostly made for machines. There is not superfluous data for visualization like spaces or tabs or newlines or comments.  </span>
<span class="doccomment">//! It is still human readable, but not very comfortable without special visualizers/editors.  </span>
<span class="doccomment">//! If your editor is clever and knows how to add a few spaces here and there, this format can become easy human readable.  </span>
<span class="doccomment">//! This could be easily processed by all new editor/visualizer with extensions.  </span>
<span class="doccomment">//! But remember, this is not the truth in the file.  </span>
<span class="doccomment">//! We want small file sizes and there are no spaces in the file.  </span>
<span class="doccomment">//! One problem of visualizations are long strings. They are hard to place on the screen in a tabular format to be nicely readable.  </span>
<span class="doccomment">//! One idea to solve this &quot;problem&quot; is to add in the schema an optional field property `MaxVisualizeLength`. The visualizer should truncate the long string to achieve great readability. In most of the cases, we don&#39;t want to see the whole long long strings every time. Mostly the info in long long string is not really important.  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Example of visualization:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ```QVS20  </span>
<span class="doccomment">//! [City]  [Country] [UN2018]   [CityPopulation] [Area] [MetropolitanPopulation]  </span>
<span class="doccomment">//! [Tokyo] [Japan]   [37400068] [13515271]       [2191] [37274000]  </span>
<span class="doccomment">//! [Delhi] [India]   [28514000] [16753235]       [1484] [29000000]  </span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Common data types  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! A standard must be prepared for common data types and not leave them to different interpretations, because that can cause incompatibilities.  </span>
<span class="doccomment">//! This data is mostly used in database tables, so the datatypes must be understandable in the database world. But the import/export utilities are write in languages that have different data types.  </span>
<span class="doccomment">//! Here we need something in between that is understandable to both.  </span>
<span class="doccomment">//! Here are the most used data types.  </span>
<span class="doccomment">//! For exotic datatypes there is no need to define them in this standard.  </span>
<span class="doccomment">//! Maybe in some next standard if that data type becomes really important.  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Data type String</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Utf-8 enables to represent any unicode character.  </span>
<span class="doccomment">//! We just need to be aware of this 4 special ascii7 characters:  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! - [ left square brackets  </span>
<span class="doccomment">//! - ] right square brackets  </span>
<span class="doccomment">//! - LF new line  </span>
<span class="doccomment">//! - \  Backslash character  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! We can use the backslash character to escape the special characters:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! - \\\\  Backslash character  </span>
<span class="doccomment">//! - \\[  Left Square Bracket  </span>
<span class="doccomment">//! - \\]  Right Square Bracket  </span>
<span class="doccomment">//! - \\n  New line  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! We want to avoid undesirable editing characters in long strings, so we escape also these 2:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! - \r  Carriage return  </span>
<span class="doccomment">//! - \t  Tab  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! So all together there are 6 ascii7 characters of interest to the parser and serializer.</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Data type Integer</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Allowed characters: numbers and eventually a minus/plus before them.  </span>
<span class="doccomment">//! [5]  </span>
<span class="doccomment">//! [+5]  </span>
<span class="doccomment">//! [-6]  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Data type Decimal</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! The decimal type is very important in databases and needs to be explicit.  </span>
<span class="doccomment">//! The decimal is NOT the same as the float, because the float cannot contain an exact value ! Float makes it super problematic for any financial calculation or number comparison.  Use the Decimal type instead.  </span>
<span class="doccomment">//! Allowed characters: numbers and decimal point and the minus/plus characters.  </span>
<span class="doccomment">//! No space, no commas, no thousand delimiters, no currency symbols.  </span>
<span class="doccomment">//! No binary, hexadecimal or other numbers are allowed here.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! [3]  </span>
<span class="doccomment">//! [+3]  </span>
<span class="doccomment">//! [-2]  </span>
<span class="doccomment">//! [4.1]  </span>
<span class="doccomment">//! [+4.1]  </span>
<span class="doccomment">//! [-5.0]  </span>
<span class="doccomment">//! [9.23872000]  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Data type Float</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Avoid floats in &quot;real life&quot; scenarios. Use them only for scientific calculations. A classic problem with floats (inaccurate): `1.2 - 1.0 = 0.199999999999999996` ?!? This comparison `0.2 == (1.2 - 1.0)` returns `false` !?!  </span>
<span class="doccomment">//! Allowed characters: numbers and decimal point and the minus/plus characters and the `e` exponent.  </span>
<span class="doccomment">//! [2.99792458e8]  </span>
<span class="doccomment">//! [+2.99792458e8]  </span>
<span class="doccomment">//! [-2.99792458e8]  </span>
<span class="doccomment">//! [2.99792458e-8]  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Type Bool  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! `F` for false  </span>
<span class="doccomment">//! `T` for true  </span>
<span class="doccomment">//! It is case sensitive, uppercase only.  </span>
<span class="doccomment">//! This characters are ascii7 and in utf-8 they use one byte only.  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! [T]  </span>
<span class="doccomment">//! [F]  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Data type Date</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Only one format: `YYYY-MM-DD`  </span>
<span class="doccomment">//! All the parts are required.  </span>
<span class="doccomment">//! No TimeZone or Fixed Offset.  </span>
<span class="doccomment">//! [2002-09-24]  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Data type Time</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Only one format: `hh:mm:ss.dddd`  </span>
<span class="doccomment">//! `.dddd` is optional. All the rest is required.  </span>
<span class="doccomment">//! No TimeZone or Fixed Offset.  </span>
<span class="doccomment">//! [23-59-59]  </span>
<span class="doccomment">//! [23-59-59.12345]  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Data type DateTime with FixedOffset</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Only one format: `YYYY-MM-DDThh:mm:ss.dddd+hh:mm`  </span>
<span class="doccomment">//! The FixedOffset is mandatory.  </span>
<span class="doccomment">//! `.dddd` is optional. All the rest is required.  </span>
<span class="doccomment">//! [2002-05-30T09:30:10.5]  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Data type binary  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Binary data should be converted into Base64 and used as very long string.  </span>
<span class="doccomment">//! This is not the best way to transfer big binary data.  </span>
<span class="doccomment">//! The Base64 does not include any of the 4 special characters.  </span>
<span class="doccomment">//! So the parser cannot be confused.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Null  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Null in database language means `absence of data` and is very important.  </span>
<span class="doccomment">//! Empty brackets [] represent Null in `QVS20`.  </span>
<span class="doccomment">//! For strings there is no difference between Null and EmptyString in `QVS20`.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Data type SubTable</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Inside one cell of the table is possible to insert a whole sub-table.  </span>
<span class="doccomment">//! Just like that. Nothing changes, no special escaping, because we have start and end delimiters.  </span>
<span class="doccomment">//! So we can represent also hierarchical data, if it is really needed.  </span>
<span class="doccomment">//! Still the primary goal of the standard is tabular data.  </span>
<span class="doccomment">//! Yes, but one tiny thing must change: the row delimiter of the sub-table is not \n anymore.  </span>
<span class="doccomment">//! It is the number that represent the depth of the sub-table: 1, 2, 3,...  </span>
<span class="doccomment">//! It must be only one byte. This format is not really great for hierarchies deeper than 9 levels.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! Example of CountryTable:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ```QVS20</span>
<span class="doccomment">//! [Country][Population]  </span>
<span class="doccomment">//! [Slovenia][2000000]  </span>
<span class="doccomment">//! [Italia][60000000]  </span>
<span class="doccomment">//! [Croatia][4000000]  </span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Now we want to insert the data of the cities, but hierarchically as a sub-table.  </span>
<span class="doccomment">//! Example of CityDataTable for Slovenia:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ```QVS20</span>
<span class="doccomment">//! [City][MetropolitanPopulation]  </span>
<span class="doccomment">//! [Ljubljana][300000]  </span>
<span class="doccomment">//! [Koper][30000]  </span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! Together table and sub-table looks like this:  </span>
<span class="doccomment">//! The sub-table row delimiter is changed to &quot;1&quot;.  </span>
<span class="doccomment">//! For easy parsing, the sub-table starts with the new row delimiter.  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ```QVS20</span>
<span class="doccomment">//! [Country][CityDataSubTable][Population]  </span>
<span class="doccomment">//! [Slovenia][1[Ljubljana][300000]1[Koper][30000]1][2000000]  </span>
<span class="doccomment">//! [Italia][1[Milano][400000]1[Venezia][30000]1][60000]  </span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! This is not very human readable, because the lack of spaces.  </span>
<span class="doccomment">//! But you can visualize it like this:  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ```QVS20</span>
<span class="doccomment">//! [Country ] [CityDataSubTable      ] [Population]  </span>
<span class="doccomment">//! [Slovenia] [1[Ljubljana][300000]1  </span>
<span class="doccomment">//!              [Koper    ][ 30000]1 ] [   2000000]  </span>
<span class="doccomment">//! [Italia  ] [1[Milano   ][400000]1  </span>
<span class="doccomment">//!              [Venezia  ][ 30000]1 ] [  60000000]  </span>
<span class="doccomment">//! ...  </span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Row delimiter LF and sub-tables  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! The basic row delimiter is LF. Not CR, not CRLF, but exactly LF.  </span>
<span class="doccomment">//! Every row must end with the row delimiter, especially the last row .  </span>
<span class="doccomment">//! There is a small performance problem with sub-tables here.  </span>
<span class="doccomment">//! Let me explain and come to the solution with this flow of thoughts.  </span>
<span class="doccomment">//! For sequential reading of `QVS20` files the inserted sub-tables are not a problem. It works well.  </span>
<span class="doccomment">//! If we read every field sequentially, we know when the sub-table starts and ends. Easy.</span>
<span class="doccomment">//! But sometimes we want to go very fast line by line and read only the first field for filtering. Because of sub-tables, the next LF is not always the start of a new row.  </span>
<span class="doccomment">//! **Let&#39;s solve this problem.**  </span>
<span class="doccomment">//! We can use again the fact that we know the different start and end delimiters.  </span>
<span class="doccomment">//! So between the end field and the new row we can put a different `row delimiter`.  </span>
<span class="doccomment">//! The first level row delimiter is conveniently LF.  </span>
<span class="doccomment">//! For the first sub-table the row delimiter changes to the string `1`.  </span>
<span class="doccomment">//! For the next depth level `2` and so on. The number is the depth of the sub-table.  </span>
<span class="doccomment">//! In any moment it will be clear what is the row delimiter for that explicit sub-table.  </span>
<span class="doccomment">//! Very important rule: every row, and the last row especially, must end with a row delimiter !  </span>
<span class="doccomment">//! We must take care to limit the row delimiter to only one byte. It means there cannot be a sub-table nested deeper than 9 levels.  And that is fine for this type of tabular format.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Schema  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! The Schema is write always in 5 mandatory rows:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! - 1st row - file type, table name and description  </span>
<span class="doccomment">//! - 2st row - data types  </span>
<span class="doccomment">//! - 3nd row - sub table schemas  </span>
<span class="doccomment">//! - 4nd row - additional data  </span>
<span class="doccomment">//! - 5rd row - column names  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! The Schema is mandatory.  </span>
<span class="doccomment">//! It can be included in the same `QVS20` file or can exist in an external `QVS20` file.  </span>
<span class="doccomment">//! That way is possible to have files with only data. Great for small packets of data.  </span>
<span class="doccomment">//! There is no other configuration needed to operate with qvs20.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ### Schema 1st row - file type, table name and description</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! It is great to recognize the data from inside the data itself.  </span>
<span class="doccomment">//! The file name can change for various reasons and is not always coherent.  </span>
<span class="doccomment">//! There are 3 possible file types for qvs20:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! 1. only schema - is marked with [S]</span>
<span class="doccomment">//! 2. only rows - is marked with [R]</span>
<span class="doccomment">//! 3. full (schema+rows) - is marked with [T]</span>
<span class="doccomment">//! 4. sub_table schema - is marked with [U], but it cannot be a standalone file</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! The marker helps the parser to early recognize the file and its content.  </span>
<span class="doccomment">//! The table name is short and is used to assert that the separate TableRows file and the TableSchema file are really from the same Table.  </span>
<span class="doccomment">//! The description can be long if is needed. It is a string, therefore it is escaped.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ### Schema 2nd row - Data types</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! The most important information for the parser is the data type of the column.</span>
<span class="doccomment">//! For example the strings must be unescaped, but the integers don&#39;t need it.</span>
<span class="doccomment">//! Example of the 2nd row with data type:  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ```QVS20</span>
<span class="doccomment">//! [String][Integer][Decimal][Float][Date][Time][DateTime][Bool][SubTable]  </span>
<span class="doccomment">//! ```</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ### Schema 3rd row - Sub table schemas  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! SubTables schemas are write in the 3rd row.  </span>
<span class="doccomment">//! For other column, the field is empty [].  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ### Schema 4th row - Additional data  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Often programmers need to provide some additional info about the fields.  </span>
<span class="doccomment">//! Every use-case will need different data here.  </span>
<span class="doccomment">//! So this cannot be standardized.  </span>
<span class="doccomment">//! This data is optional, but the row is mandatory. So the parsing is clear!  </span>
<span class="doccomment">//! This additional data must be strings. And they must be correctly escaped in QVS20.  </span>
<span class="doccomment">//! Like any other String.</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ### Schema 5th row - Column names  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! The 5th row of the schema contains the column names.  </span>
<span class="doccomment">//! Example of 5th row with column names:  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ```QVS20</span>
<span class="doccomment">//! [City][Country][UN2018][CityPopulation][Area][MetropolitanPopulation][SomeDecimalNumber][SomeDate[SomeTime][SomeDateTime][SomeBool]  </span>
<span class="doccomment">//! ```  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## TableRows</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! The actual data is write in TableRows. This can be in a separate file or in the same file after the schema.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ### TableRows 1st row - file type, table name</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! There are 3 possible file types for qvs20:  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! 1. only schema - is marked with [S]</span>
<span class="doccomment">//! 2. only rows - is marked with [R]</span>
<span class="doccomment">//! 3. full (schema+rows) - is marked with [T]</span>
<span class="doccomment">//! 4. sub_table schema - is marked with [U], but it cannot be a standalone file</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! The marker helps the parser to early recognize the file and its content.  </span>
<span class="doccomment">//! When TableRows are in separate file, the first row contains only file type and table name. No need for description here, because is already in the schema.  </span>
<span class="doccomment">//! With the table name we can check if the Schema and the Rows are from the same table when they are in separate files.  </span>
<span class="doccomment">//! When the schema and table are together in the same file, this row is not needed.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Versions  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! Versions are named by the year. `QVS20` is the version from year 2020.  </span>
<span class="doccomment">//! If one day we make a new version we use the year of that version.  </span>
<span class="doccomment">//! For example in 2042 we will have the standard version and file extension  </span>
<span class="doccomment">//! `QVS42`.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## File extension  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! I want the file extension to be specific for the version of the standard.  </span>
<span class="doccomment">//! File extension and standard name are the same: `*.QVS20`  </span>
<span class="doccomment">//! It also looks unique and I hope nobody else will use it for something else.  </span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! ## Implementation in Rust</span>
<span class="doccomment">//!   </span>
<span class="doccomment">//! A proposed standard without implementations is boring.  </span>
<span class="doccomment">//! In this project I also built rust libraries for QVS20 and published them on GitHub and crates.io.  </span>
<span class="doccomment">//! For rust developers they will have native libraries with source code.  </span>
<span class="doccomment">//! Rust is the best language to compile to WebAssembly/Wasm. So I will do that too.  </span>
<span class="doccomment">//! I will enjoy to have a `QVS20` parser inside the browser, to efficiently consume tabular data received from the server.  </span>
<span class="doccomment">//! I expect that authors of existent `csv parsers` will make an effort and create a similar library for `QVS20` in different languages. I am sure they can make it very very performant.  </span>
<span class="doccomment">//!</span>
<span class="doccomment">//! ## Popularity</span>
<span class="doccomment">//!</span>
<span class="doccomment">//! Sure the biggest problem for a standard is the popularization !  </span>
<span class="doccomment">//! If nobody uses it, than it is unusable. More people use it and more usable it becomes.  </span>
<span class="doccomment">//! Popularity is a vicious cycle. With time it accelerates - in either directions: up or down.</span>
<span class="doccomment">//! Integration in database tools, spreadsheet apps and client-server frameworks would boost the usability.  </span>
<span class="doccomment">//! It is really important for the standard to be popular.  </span>
<span class="doccomment">//! I hope the standard will be interesting to many and they will organically spread the word.  </span>
<span class="doccomment">//!</span>
<span class="comment">// endregion: lmake_md_to_doc_comments include README.md A //!</span>

<span class="doccomment">/// short macro `s!()` for &amp;str.to_string or format!().</span>
<span class="doccomment">/// because that is so common.</span>
<span class="doccomment">/// Equivalents: s!(), x.to_string(), x.to_owned(),String::new(), format!()...</span>
<span class="attribute">#[<span class="ident">macro_export</span>]</span>
<span class="macro">macro_rules</span><span class="macro">!</span> <span class="ident">s</span> {
    () <span class="op">=</span><span class="op">&gt;</span> {
        <span class="ident">String</span>::<span class="ident">new</span>()
    };
    (<span class="macro-nonterminal">$</span><span class="macro-nonterminal">my_str</span>: <span class="ident">expr</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="macro-nonterminal">$</span><span class="macro-nonterminal">my_str</span>.<span class="ident">to_string</span>()
    };
    (<span class="macro-nonterminal">$</span><span class="macro-nonterminal">literal</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_1</span>: <span class="ident">expr</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="macro">format</span><span class="macro">!</span>(<span class="macro-nonterminal">$</span><span class="macro-nonterminal">literal</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_1</span>)
    };
    (<span class="macro-nonterminal">$</span><span class="macro-nonterminal">literal</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_1</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_2</span>: <span class="ident">expr</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="macro">format</span><span class="macro">!</span>(<span class="macro-nonterminal">$</span><span class="macro-nonterminal">literal</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_1</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_2</span>)
    };
    (<span class="macro-nonterminal">$</span><span class="macro-nonterminal">literal</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_1</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_2</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_3</span>: <span class="ident">expr</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="macro">format</span><span class="macro">!</span>(<span class="macro-nonterminal">$</span><span class="macro-nonterminal">literal</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_1</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_2</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_3</span>)
    };
    (<span class="macro-nonterminal">$</span><span class="macro-nonterminal">literal</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_1</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_2</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_3</span>: <span class="ident">expr</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_4</span>: <span class="ident">expr</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="macro">format</span><span class="macro">!</span>(<span class="macro-nonterminal">$</span><span class="macro-nonterminal">literal</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_1</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_2</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_3</span>, <span class="macro-nonterminal">$</span><span class="macro-nonterminal">str_4</span>)
    };
}

<span class="doccomment">/// trim start of error for concatenation</span>
<span class="attribute">#[<span class="ident">macro_export</span>]</span>
<span class="macro">macro_rules</span><span class="macro">!</span> <span class="ident">err_trim</span> {
    (<span class="macro-nonterminal">$</span><span class="macro-nonterminal">e</span>: <span class="ident">expr</span>) <span class="op">=</span><span class="op">&gt;</span> {
        <span class="macro-nonterminal">$</span><span class="macro-nonterminal">e</span>.<span class="ident">to_string</span>().<span class="ident">trim_start_matches</span>(<span class="string">&quot;Error: &quot;</span>)
    };
}

<span class="comment">// region: mod, extern and use statements</span>
<span class="kw">mod</span> <span class="ident">qvs20_reader_mod</span>;
<span class="kw">mod</span> <span class="ident">qvs20_table_mod</span>;
<span class="kw">mod</span> <span class="ident">qvs20_table_rows_mod</span>;
<span class="kw">mod</span> <span class="ident">qvs20_table_schema_mod</span>;
<span class="kw">mod</span> <span class="ident">qvs20_writer_mod</span>;

<span class="comment">// reexport objects for callers of the library</span>
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">qvs20_reader_mod</span>::<span class="ident">remove_src_loc</span>;
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">qvs20_reader_mod</span>::<span class="ident">Qvs20Error</span>;
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">qvs20_reader_mod</span>::<span class="ident">ReaderForQvs20</span>;
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">qvs20_table_mod</span>::<span class="ident">Table</span>;
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">qvs20_table_rows_mod</span>::<span class="ident">Row</span>;
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">qvs20_table_rows_mod</span>::<span class="ident">TableRows</span>;
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">qvs20_table_rows_mod</span>::<span class="ident">Value</span>;
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">qvs20_table_schema_mod</span>::<span class="ident">TableSchema</span>;
<span class="kw">pub</span> <span class="kw">use</span> <span class="ident">qvs20_writer_mod</span>::<span class="ident">WriterForQvs20</span>;
</pre></div>
</section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "qvs20";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script src="../../source-script.js"></script><script src="../../source-files.js"></script><script defer src="../../search-index.js"></script></body></html>